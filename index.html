<!DOCTYPE html>
<html>
<head>
    <title>CatFeed Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <style>
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    margin: 0;
    padding: 20px;
    line-height: 1.6;
}

.container {
    max-width: 400px;
    margin: 0 auto;
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

h1 {
    text-align: center;
    color: #333;
    margin-bottom: 20px;
}

.date-card {
    background: #4CAF50;
    color: white;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 20px;
}

.date-card h2 {
    margin: 0;
    font-size: 1.2em;
}

.stats {
    display: flex;
    justify-content: space-around;
    margin-bottom: 20px;
}

.stat {
    text-align: center;
    padding: 10px;
}

.stat-value {
    font-size: 24px;
    font-weight: bold;
    color: #4CAF50;
}

.stat-label {
    font-size: 14px;
    color: #666;
    margin-top: 5px;
}

.feed-btn {
    width: 100%;
    padding: 15px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin-bottom: 10px;
    transition: background 0.3s;
}

.feed-btn:hover {
    background: #45a049;
}

.change-btn {
    width: 100%;
    padding: 10px;
    background: #f0f0f0;
    color: #333;
    border: 1px solid #ddd;
    border-radius: 8px;
    cursor: pointer;
    margin-bottom: 20px;
    transition: background 0.3s;
}

.change-btn:hover {
    background: #e0e0e0;
}

.history {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.history h3 {
    margin-top: 0;
    color: #333;
    text-align: center;
}

ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

li {
    padding: 10px;
    border-bottom: 1px solid #eee;
    color: #555;
}

li:last-child {
    border-bottom: none;
}

li strong {
    color: #333;
}

.note {
    text-align: center;
    color: #666;
    font-size: 14px;
    padding: 10px;
    border-top: 1px solid #eee;
}

.note p {
    margin: 0;
}
    </style>
</head>
<body>
    <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Ä–º–ª–µ–Ω–∏–µ –∫–æ—Ç–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üê± –ö–æ—Ä–º–ª–µ–Ω–∏–µ –∫–æ—Ç–∞</h1>
        
        <div class="date-card">
            <h2>–°–µ–≥–æ–¥–Ω—è: <span id="todayDate">01.01.2023</span></h2>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="todayTotal">0–≥</div>
                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞ –¥–µ–Ω—å</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="feedCount">0</div>
                <div class="stat-label">–ö–æ—Ä–º–ª–µ–Ω–∏–π</div>
            </div>
        </div>
        
        <button class="feed-btn" id="feedBtn">
            üçñ –Ø –ø–æ–∫–æ—Ä–º–∏–ª –∫–æ—Ç–∞!
        </button>
        
        <button class="change-btn" id="changeFeederBtn">
            üë§ –°–º–µ–Ω–∏—Ç—å –∏–º—è
        </button>
        
        <div class="history">
            <h3>–°–µ–≥–æ–¥–Ω—è –∫–æ—Ä–º–∏–ª–∏:</h3>
            <ul id="feedList">
                <li>–°–µ–≥–æ–¥–Ω—è –µ—â–µ –Ω–µ –∫–æ—Ä–º–∏–ª–∏</li>
            </ul>
        </div>
        
        <div class="note">
            <p>üí° –ò—Å—Ç–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
        </div>
    </div>
</body>
</html>
    <script>
  // –ö—Ç–æ –∫–æ—Ä–º–∏—Ç? 
let feederName = "–ú–∞–º–∞"; // –ú–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å

// –ü–æ–ª—É—á–∞–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É
function getToday() {
    const now = new Date();
    return now.toLocaleDateString('ru-RU'); // "01.01.2023"
}

// –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –∑–∞ —Å–µ–≥–æ–¥–Ω—è
function getTodayHistory() {
    const today = getToday();
    const history = JSON.parse(localStorage.getItem('catFeedHistory')) || [];
    return history.filter(item => item.date === today);
}

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–ø–∏—Å—å
function saveFeed(grams) {
    const now = new Date();
    const feed = {
        time: now.toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'}),
        name: feederName,
        grams: grams + '–≥',
        date: getToday(),
        timestamp: now.getTime()
    };
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é
    let allHistory = JSON.parse(localStorage.getItem('catFeedHistory')) || [];
    
    // –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ (—Å—Ç–∞—Ä—à–µ —Å–µ–≥–æ–¥–Ω—è)
    const today = getToday();
    allHistory = allHistory.filter(item => item.date === today);
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
    allHistory.push(feed);
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ
    localStorage.setItem('catFeedHistory', JSON.stringify(allHistory));
    
    return feed;
}

// –í—ã—á–∏—Å–ª—è–µ–º —Å—É–º–º—É –∑–∞ —Å–µ–≥–æ–¥–Ω—è
function getTodayTotal() {
    const todayHistory = getTodayHistory();
    let total = 0;
    
    todayHistory.forEach(item => {
        // –ò–∑–≤–ª–µ–∫–∞–µ–º —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ "15–≥"
        const grams = parseInt(item.grams) || 0;
        total += grams;
    });
    
    return total;
}

// –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
function updateUI() {
    const todayHistory = getTodayHistory();
    const todayTotal = getTodayTotal();
    const todayDate = getToday();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞—Ç—É
    document.getElementById('todayDate').textContent = todayDate;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É–º–º—É
    document.getElementById('todayTotal').textContent = todayTotal + '–≥';
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–º–ª–µ–Ω–∏–π
    document.getElementById('feedCount').textContent = todayHistory.length;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫
    const listElement = document.getElementById('feedList');
    
    if (todayHistory.length === 0) {
        listElement.innerHTML = '<li>–°–µ–≥–æ–¥–Ω—è –µ—â–µ –Ω–µ –∫–æ—Ä–º–∏–ª–∏</li>';
    } else {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–≤–µ—Ä—Ö—É)
        listElement.innerHTML = todayHistory
            .slice()
            .reverse()
            .map(item => `
                <li>
                    <strong>${item.time}</strong> - ${item.name} - ${item.grams}
                </li>
            `)
            .join('');
    }
}

// –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
document.getElementById('feedBtn').addEventListener('click', function() {
    const weight = prompt("–°–∫–æ–ª—å–∫–æ –≥—Ä–∞–º–º –¥–∞–ª–∏ –∫–æ—Ç—É?", "15");
    
    if (weight && !isNaN(weight)) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º
        const feed = saveFeed(weight);
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        alert(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: ${feed.time} - ${feed.grams}`);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        updateUI();
    } else if (weight !== null) {
        alert("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ!");
    }
});

// –ö–Ω–æ–ø–∫–∞ —Å–º–µ–Ω—ã –∫–æ—Ä–º—è—â–µ–≥–æ
document.getElementById('changeFeederBtn').addEventListener('click', function() {
    const newName = prompt("–ö—Ç–æ –≤—ã?", feederName);
    if (newName && newName.trim() !== '') {
        feederName = newName.trim();
        alert(`–¢–µ–ø–µ—Ä—å –≤—ã: ${feederName}`);
    }
});

// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    updateUI();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–æ–≤—ã–π –ª–∏ –¥–µ–Ω—å
    const lastVisit = localStorage.getItem('lastVisitDate');
    const today = getToday();
    
    if (lastVisit !== today) {
        // –ù–æ–≤—ã–π –¥–µ–Ω—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        console.log(`–ù–æ–≤—ã–π –¥–µ–Ω—å! –°–µ–≥–æ–¥–Ω—è: ${today}`);
        localStorage.setItem('lastVisitDate', today);
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é (–æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –∑–∞–ø–∏—Å–∏)
        const allHistory = JSON.parse(localStorage.getItem('catFeedHistory')) || [];
        const todayHistory = allHistory.filter(item => item.date === today);
        localStorage.setItem('catFeedHistory', JSON.stringify(todayHistory));
    }
});
    </script>
</body>
</html>